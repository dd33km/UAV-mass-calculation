# Калькулятор массы БПЛА 

Профессиональное приложение для расчета массы беспилотных летательных аппаратов с современным графическим интерфейсом, базой данных компонентов и системой отчетности.

## Описание проекта

Калькулятор массы дрона - это комплексное решение для инженеров, студентов и энтузиастов, работающих с БПЛА. Приложение позволяет:

- Выбирать компоненты из предзаполненной базы данных
- Рассчитывать общую массу конфигурации
- Визуализировать распределение массы с помощью круговых диаграмм
- Просматривать историю расчетов с встроенными диаграммами
- Генерировать детальные отчеты
- Управлять базой компонентов
- Хранить историю расчетов

## Основные возможности

### 1. Калькулятор массы
- Выбор компонентов из выпадающих списков
- Указание количества для двигателей и пропеллеров
- Автоматический расчет общей массы
- Определение категории дрона по массе
- Круговая диаграмма распределения массы

### 2. Управление компонентами
- Просмотр всех компонентов в базе данных
- Добавление новых компонентов
- Редактирование существующих
- Удаление компонентов

### 3. История расчетов 
- Автоматическое сохранение всех расчетов
- **Визуальное отображение каждого расчета с круговой диаграммой**
- Двухколоночный layout: текстовая информация слева, диаграмма справа
- Скроллируемый список для удобного просмотра
- Детальная информация по каждому компоненту
- Очистка истории

### 4. Отчеты
- Генерация текстовых отчетов
- Детальная разбивка по компонентам
- Рекомендации на основе конфигурации
- Сохранение отчетов в файлы

##  Технологический стек

- **Python 3.8+** - основной язык программирования
- **CustomTkinter 5.2+** - современный GUI фреймворк
- **SQLite3** - встроенная база данных
- **Matplotlib 3.7+** - визуализация данных
- **Pillow 10.0+** - обработка изображений

##  Установка

### Шаг 1: Установка Python

Убедитесь, что у вас установлен Python 3.8 или выше:

```bash
python --version
```

Если Python не установлен, скачайте его с [python.org](https://www.python.org/downloads/)

### Шаг 2: Клонирование репозитория

```bash
git clone <repository-url>
cd drone_calculator
```

### Шаг 3: Установка зависимостей

```bash
pip install -r requirements.txt
```

Или установите пакеты вручную:

```bash
pip install customtkinter>=5.2.0 matplotlib>=3.7.0 Pillow>=10.0.0
```

##  Запуск приложения

### Windows

```bash
python main.py
```

Или двойной клик по файлу `main.py`

### Linux/Mac

```bash
python3 main.py
```

**Важно:** Приложение требует графическую среду (GUI). Не работает в серверной среде без графического интерфейса.

##  Руководство пользователя

### Расчет массы дрона

1. **Откройте вкладку "Калькулятор"**
2. **Выберите компоненты:**
   - Корпус (frame)
   - Двигатели (motors) - укажите количество
   - Аккумулятор (battery)
   - Контроллер полета (flight controller)
   - Пропеллеры (propellers) - укажите количество
   - Камера/полезная нагрузка (camera)
3. **Нажмите "Рассчитать массу"**
4. **Просмотрите результаты:**
   - Общая масса
   - Категория дрона
   - Круговая диаграмма распределения
5. **Сгенерируйте отчет:**
   - "Показать отчет" - просмотр в окне
   - "Сохранить отчет" - сохранение в файл

### Добавление компонентов

1. **Откройте вкладку "Управление компонентами"**
2. **Выберите тип компонента** 
3. **Нажмите "Добавить компонент"**
4. **Заполните форму:**
   - Название
   - Масса (в граммах)
   - Описание (опционально)
5. **Нажмите "Сохранить"**

### Просмотр истории 

1. **Откройте вкладку "История расчетов"**
2. **Просмотрите все сохраненные конфигурации**
   - Каждый расчет отображается в карточке
   - Слева: ID, дата, общая масса, категория, список компонентов
   - Справа: круговая диаграмма распределения массы
3. **Используйте "Обновить" для обновления списка**
4. **"Очистить историю" удаляет все записи**

##  Структура базы данных

### Таблицы компонентов

- `frames` - корпуса дронов
- `motors` - двигатели
- `batteries` - аккумуляторы
- `flight_controllers` - контроллеры полета
- `propellers` - пропеллеры
- `cameras` - камеры и полезная нагрузка

### Таблица истории

- `calculations_history` - сохраненные расчеты

## Особенности интерфейса

- **Темная тема** - современный дизайн
- **Адаптивный layout** - удобство использования
- **Интуитивная навигация** - вкладки для разных функций
- **Визуальная обратная связь** - цветовое кодирование
- **Валидация данных** - проверка корректности ввода
- **Встроенные диаграммы** - визуализация прямо в истории расчетов


## Устранение неполадок

### Ошибка импорта модулей

```bash
pip install --upgrade customtkinter matplotlib pillow
```

### База данных не создается

Проверьте права доступа к директории `database/`

### Диаграммы не отображаются

Переустановите matplotlib:

```bash
pip uninstall matplotlib
pip install matplotlib
```

### Приложение не запускается (ImportError: Failed to import tkagg backend)

Это означает, что вы пытаетесь запустить приложение в среде без GUI (например, на сервере). Приложение требует графическую среду. Запустите его на компьютере с Windows, macOS или Linux с графическим интерфейсом.

##  Тестирование

Приложение включает автоматизированный тестовый скрипт:

```bash
python test_application.py
```

**Тестируемые модули:**
-  База данных
-  Калькулятор
-  Визуализация (без сохранения файлов)
-  Генерация отчетов

Все тесты должны пройти успешно (4/4).

## Дополнительная информация

### Категории дронов по массе

- **Микро (< 250г)** - не требует регистрации
- **Мини (250-500г)** - легкие дроны
- **Средний (0.5-2 кг)** - универсальные дроны
- **Большой (2-25 кг)** - профессиональные дроны
- **Тяжелый (> 25 кг)** - требуется спецразрешение

### Рекомендации по сборке

1. **Баланс массы** - аккумулятор должен составлять 25-35% от общей массы
2. **Соотношение тяги** - двигатели должны обеспечивать тягу в 2-3 раза больше массы
3. **Центр тяжести** - размещайте тяжелые компоненты ближе к центру
4. **Запас мощности** - не используйте максимальную тягу постоянно

### Производительность

- **Рекомендуемый размер истории:** до 50 записей
- **Память на диаграмму:** ~1-2 МБ
- **При большой истории:** рекомендуется периодическая очистка

##  Авторы

Работа с кодом:  
Работа над GUI:  
Работа с тестами:  
Работа над презентацией:  

## Вклад в проект

Приветствуются предложения по улучшению:
- Добавление новых компонентов в базу
- Улучшение интерфейса
- Новые функции визуализации
- Исправление ошибок

## Поддержка

При возникновении вопросов или проблем:
1. Проверьте раздел "Устранение неполадок"
2. Изучите `DOCUMENTATION.md` для технических деталей
4. Создайте issue в репозитории

## Дополнительная документация

- `DOCUMENTATION.md` - техническая документация
- `test_application.py` - автоматизированные тесты

---

**Версия:** 1.0
**Дата:** Декабрь 2025  
**Статус:** Бета версия  

